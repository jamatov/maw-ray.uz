jQuery.extend({browserSelector:function(){var e=navigator.userAgent.toLowerCase(),t=function(t){return e.indexOf(t)>-1},o="gecko",r="webkit",n="safari",a="opera",i=document.documentElement,l=[!/opera|webtv/i.test(e)&&/msie\s(\d)/.test(e)?"ie ie"+parseFloat(navigator.appVersion.split("MSIE")[1]):t("firefox/2")?o+" ff2":t("firefox/3.5")?o+" ff3 ff3_5":t("firefox/3")?o+" ff3":t("gecko/index.html")?o:t("opera")?a+(/version\/(\d+)/.test(e)?" "+a+RegExp.jQuery1:/opera(\s|\/)(\d+)/.test(e)?" "+a+RegExp.jQuery2:""):t("konqueror")?"konqueror":t("chrome")?r+" chrome":t("iron")?r+" iron":t("applewebkit/index.html")?r+" "+n+(/version\/(\d+)/.test(e)?" "+n+RegExp.jQuery1:""):t("mozilla/index.html")?o:"",t("j2me")?"mobile":t("iphone")?"iphone":t("ipod")?"ipod":t("mac")||t("darwin")?"mac":t("webtv")?"webtv":t("win")?"win":t("freebsd")?"freebsd":t("x11")||t("linux")?"linux":"","js"];c=l.join(" "),i.className+=" "+c}}),jQuery.extend({smoothScroll:function(){function e(){var e=!1;if(document.URL.indexOf("google.com/reader/view")>-1&&(e=!0),w.excluded){var t=w.excluded.split(/[,\n] ?/);t.push("mail.google.com");for(var o=t.length;o--;)if(document.URL.indexOf(t[o])>-1){h&&h.disconnect(),c("mousewheel",r),e=!0,g=!0;break}}e&&c("keydown",n),w.keyboardSupport&&!e&&l("keydown",n)}function t(){if(document.body){var t=document.body,o=document.documentElement,r=window.innerHeight,n=t.scrollHeight;if(x=document.compatMode.indexOf("CSS")>=0?o:t,p=t,e(),y=!0,top!=self)v=!0;else if(n>r&&(t.offsetHeight<=r||o.offsetHeight<=r)){var a=!1,i=function(){a||o.scrollHeight==document.height||(a=!0,setTimeout((function(){o.style.height=document.height+"px",a=!1}),500))};if(o.style.height="auto",setTimeout(i,10),(h=new R(i)).observe(t,{attributes:!0,childList:!0,characterData:!1}),x.offsetHeight<=r){var l=document.createElement("div");l.style.clear="both",t.appendChild(l)}}if(document.URL.indexOf("mail.google.com")>-1){var c=document.createElement("style");c.innerHTML=".iu { visibility: hidden }",(document.getElementsByTagName("head")[0]||o).appendChild(c)}else if(document.URL.indexOf("www.facebook.com")>-1){var u=document.getElementById("home_stream");u&&(u.style.webkitTransform="translateZ(0)")}w.fixedBackground||g||(t.style.backgroundAttachment="scroll",o.style.backgroundAttachment="scroll")}}function o(e,t,o,r){if(r||(r=1e3),s(t,o),1!=w.accelerationMax){var n=+new Date-H;if(n<w.accelerationDelta){var a=(1+30/n)/2;a>1&&(a=Math.min(a,w.accelerationMax),t*=a,o*=a)}H=+new Date}if(M.push({x:t,y:o,lastX:t<0?.99:-.99,lastY:o<0?.99:-.99,start:+new Date}),!D){var i=e===document.body,l=function(n){for(var a=+new Date,c=0,u=0,s=0;s<M.length;s++){var d=M[s],f=a-d.start,p=f>=w.animationTime,h=p?1:f/w.animationTime;w.pulseAlgorithm&&(h=m(h));var g=d.x*h-d.lastX>>0,v=d.y*h-d.lastY>>0;c+=g,u+=v,d.lastX+=g,d.lastY+=v,p&&(M.splice(s,1),s--)}i?window.scrollBy(c,u):(c&&(e.scrollLeft+=c),u&&(e.scrollTop+=u)),t||o||(M=[]),M.length?C(l,e,r/w.frameRate+1):D=!1};C(l,e,0),D=!0}}function r(e){y||t();var r=e.target,n=i(r);if(!n||e.defaultPrevented||u(p,"embed")||u(r,"embed")&&/\.pdf/i.test(r.src))return!0;var a=e.wheelDeltaX||0,l=e.wheelDeltaY||0;if(a||l||(l=e.wheelDelta||0),!w.touchpadSupport&&function(e){if(e){e=Math.abs(e),k.push(e),k.shift(),clearTimeout(T);var t=k[0]==k[1]&&k[1]==k[2],o=d(k[0],120)&&d(k[1],120)&&d(k[2],120);return!(t||o)}}(l))return!0;Math.abs(a)>1.2&&(a*=w.stepSize/120),Math.abs(l)>1.2&&(l*=w.stepSize/120),o(n,-a,-l),e.preventDefault()}function n(e){var t=e.target,r=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey&&e.keyCode!==S.spacebar;if(/input|textarea|select|embed/i.test(t.nodeName)||t.isContentEditable||e.defaultPrevented||r)return!0;if(u(t,"button")&&e.keyCode===S.spacebar)return!0;var n=0,a=0,l=i(p),c=l.clientHeight;switch(l==document.body&&(c=window.innerHeight),e.keyCode){case S.up:a=-w.arrowScroll;break;case S.down:a=w.arrowScroll;break;case S.spacebar:a=-(e.shiftKey?1:-1)*c*.9;break;case S.pageup:a=.9*-c;break;case S.pagedown:a=.9*c;break;case S.home:a=-l.scrollTop;break;case S.end:var s=l.scrollHeight-l.scrollTop-c;a=s>0?s+10:0;break;case S.left:n=-w.arrowScroll;break;case S.right:n=w.arrowScroll;break;default:return!0}o(l,n,a),e.preventDefault()}function a(e,t){for(var o=e.length;o--;)E[L(e[o])]=t;return t}function i(e){var t=[],o=x.scrollHeight;do{var r=E[L(e)];if(r)return a(t,r);if(t.push(e),o===e.scrollHeight){if(!v||x.clientHeight+10<o)return a(t,document.body)}else if(e.clientHeight+10<e.scrollHeight&&(overflow=getComputedStyle(e,"").getPropertyValue("overflow-y"),"scroll"===overflow||"auto"===overflow))return a(t,e)}while(e=e.parentNode)}function l(e,t,o){window.addEventListener(e,t,o||!1)}function c(e,t,o){window.removeEventListener(e,t,o||!1)}function u(e,t){return(e.nodeName||"").toLowerCase()===t.toLowerCase()}function s(e,t){e=e>0?1:-1,t=t>0?1:-1,b.x===e&&b.y===t||(b.x=e,b.y=t,M=[],H=0)}function d(e,t){return Math.floor(e/t)==e/t}function f(e){var t,o;return(e*=w.pulseScale)<1?t=e-(1-Math.exp(-e)):(e-=1,t=(o=Math.exp(-1))+(1-Math.exp(-e))*(1-o)),t*w.pulseNormalize}function m(e){return e>=1?1:e<=0?0:(1==w.pulseNormalize&&(w.pulseNormalize/=f(1)),f(e))}var p,h,w={frameRate:150,animationTime:700,stepSize:80,pulseAlgorithm:!0,pulseScale:8,pulseNormalize:1,accelerationDelta:20,accelerationMax:1,keyboardSupport:!0,arrowScroll:50,touchpadSupport:!0,fixedBackground:!0,excluded:""},g=!1,v=!1,b={x:0,y:0},y=!1,x=document.documentElement,k=[120,120,120],S={left:37,up:38,right:39,down:40,spacebar:32,pageup:33,pagedown:34,end:35,home:36},M=[],D=!1,H=+new Date,E={};setInterval((function(){E={}}),1e4);var T,L=function(){var e=0;return function(t){return t.uniqueID||(t.uniqueID=e++)}}(),C=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(e,t,o){window.setTimeout(e,o||1e3/60)},R=window.MutationObserver||window.WebKitMutationObserver;l("mousedown",(function(e){p=e.target})),l("mousewheel",r),l("load",t)}});